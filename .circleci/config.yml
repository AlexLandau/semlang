version: 2

jobs:
  build:
    machine:
      environment:
        TERM: dumb
    steps:
      - checkout
      - run: ./gradlew build

workflows:
  version: 2
  build:
    jobs:
      - build

#machine:
#  environment:
#    TERM: dumb

#dependencies:
#  override:
#    - ./gradlew downloadDependencies
#    - ./gradlew yarn_install
#  cache_directories:
#    - ~/.cache/yarn
#
#test:
#  override:
#    - ./gradlew test -Dorg.gradle.parallel=false
#  post:
#    - mkdir -p $CIRCLE_TEST_REPORTS/junit/
#    - find . -type f -regex ".*/build/test-results/test/.*xml" -exec cp {} $CIRCLE_TEST_REPORTS/junit/ \;
#    - mkdir -p $CIRCLE_TEST_REPORTS/jest/
#    - find . -type f -regex ".*/build/test-results/jest/.*xml" -exec cp {} $CIRCLE_TEST_REPORTS/jest/ \;
